# *****************************************************************************
# * Copyright (c) 2004, 2008 IBM Corporation
# * All rights reserved.
# * This program and the accompanying materials
# * are made available under the terms of the BSD License
# * which accompanies this distribution, and is available at
# * http://www.opensource.org/licenses/bsd-license.php
# *
# * Contributors:
# *     IBM Corporation - initial implementation
# ****************************************************************************/

#############################################################################
# BUILD ENV SETTINGS
#############################################################################

CROSS		?= powerpc64-linux-
CELLSIZE	?= 64

HOSTCC		?= gcc
HOSTCFLAGS	= -g -Wall -W -O2 -I. -I../include
DD		= dd
ONLY_LD         = $(CROSS)ld -melf$(CELLSIZE)ppc

ifdef NEW_BUILD
MAKEFLAGS       = --silent
CC              = echo -e "\t[CC]\t$(DIRECTORY)$@"; $(CROSS)gcc -m$(CELLSIZE)
AS              = echo -e "\t[AS]\t$(DIRECTORY)$@"; $(CROSS)as -m$(CELLSIZE)
LD              = echo -e "\t[LD]\t$(DIRECTORY)$@"; $(ONLY_LD)
CLEAN           = echo -e "\t[CLEAN]\t$(DIRECTORY)$$dir"
else
CC		= $(CROSS)gcc -m$(CELLSIZE)
AS		= $(CROSS)as -m$(CELLSIZE)
LD		= $(ONLY_LD)
CLEAN           = echo -n
endif

OBJCOPY         ?= $(CROSS)objcopy
OBJDUMP         ?= $(CROSS)objdump
STRIP           ?= $(CROSS)strip
AR		?= $(CROSS)ar
RANLIB		?= $(CROSS)ranlib

CFLAGS ?= -g -O2 -fno-builtin -ffreestanding -nostdinc -msoft-float \
	  -mno-altivec -mabi=no-altivec -Wall

export CC AS LD CLEAN OBJCOPY OBJDUMP STRIP AR RANLIB CFLAGS

